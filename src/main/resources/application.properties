spring.application.name=canteen-management-system
# File: src/main/resources/application.properties

# Server Configuration
# Prefer port from environment (Render provides $PORT). Fall back to 8080 for local dev.
server.port=${PORT:8080}

# Application Name
spring.application.name=canteen-management-system

# Logging Configuration
logging.level.com.jsp.canteen_management_system=DEBUG

# Reduce noisy warnings from embedded Flapdoodle Mongo autoconfigure
# These Beans are created early by the embedded Mongo library and can trigger
# BeanPostProcessorChecker warnings in Spring's startup logs. They are usually
# harmless; lower the log level to keep startup logs clean.
logging.level.de.flapdoodle.embed.mongo=ERROR
logging.level.de.flapdoodle.embed.mongo.spring.autoconfigure=ERROR

# Silence the specific BeanPostProcessorChecker warnings that reference
# early-created beans from embedded-mongo. These warnings are typically
# benign; setting the logger for the checker to ERROR reduces noise.
# The checker class is an inner class; configure its logger by using the
# fully-qualified class name with the inner-class separator `$`.
logging.level.org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker=ERROR
logging.level.org.springframework.beans.factory.support=ERROR

# MongoDB Database Connection (Local development)
# Do NOT hardcode a URI here. With the embedded Mongo dependency present,
# Spring Boot will start an embedded MongoDB for local development automatically.
# To point to a real MongoDB (local server or Atlas), set SPRING_DATA_MONGODB_URI
# in your environment before starting the app.
# Example (Atlas):
#   $env:SPRING_DATA_MONGODB_URI = 'mongodb+srv://<user>:<enc_pass>@<cluster>/canteenDB?retryWrites=true&w=majority'
# Example (local server):
#   $env:SPRING_DATA_MONGODB_URI = 'mongodb://localhost:27017/canteenDB'

# Always use this database name by default (embedded or when URI does not specify one)
spring.data.mongodb.database=canteenDB

# Embedded MongoDB (development fallback) - set a version for flapdoodle when running embedded
de.flapdoodle.mongodb.embedded.version=7.0.2

# Development only: set a fixed user so you can login from browser without generated password
# Use {noop} to indicate the password is stored in plain text (not encoded). Do NOT use in production.

# NOTE: Credentials are created in MongoDB by DataLoader for development convenience.
# Use environment variable SPRING_DATA_MONGODB_URI to provide the Atlas connection string.

# Actuator
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always
